# 2.5 Save Configurations

## 2.5.1 Configuration Files

This topic will show you how to save your configurations.

There are two system files that store the device configuration:
1. `startup-config` - This is the saved configuration file that is stored in NVRAM. It contains all the commands that will be used by the device upon startup or reboot. Flash does not lose its contents when the device is powered off.
2. `running-config` - This is stored in Random Access Memory (RAM). It reflects the current configuration. Modifying a running configuration affects the operation of a Cisco device immediately. RAM is volatile memory. It loses all of its content when the device is powered off or restarted.

The `show running-config` privileged EXEC mode command is used to view the running config. 

As shown in the example, the command will list the complete configuration currently stored in RAM:

```
Sw-Floor-1# show running-config
Building configuration...
Current configuration : 1351 bytes
!
! Last configuration change at 00:01:20 UTC Mon Mar 1 1993
!
version 15.0
no service pad
service timestamps debug datetime msec
service timestamps log datetime msec
service password-encryption
!
hostname Sw-Floor-1
!
(output omitted)
```

To view the startup configuration file, use the `show startup-config` privileged EXEC command.

If power to the device is lost, or if the device is restarted, all configuration changes will be lost unless they have been saved. 

To save changes made to the running configuration to the startup configuration file, use the `copy running-config startup-config` privileged EXEC mode command.

## 2.5.2 Alter the Running Configuration

If changes made to the running config do not have the desired effect and the running-config has not yet been saved, you can restore the device to its previous configuration. Remove the changed commands individually, or reload the device using the `reload` privileged EXEC mode command to restore the startup-config.

The downside to using the `reload` command to remove an unsaved running config is the brief amount of time the device will be offline, causing network downtime.

When a reload is initiated, the IOS will detect that the running config has changes that were not saved to the startup configuration. A prompt will appear to ask whether to save the changes. To discard the changes, enter `n` or `no`.

Alternatively, if undesired changes were saved to the startup config, it may be necessary to clear all the configurations. This requires erasing the startup config and restarting the device. The startup config is removed by using the `erase startup-config` privileged EXEC mode command. After the command is issued, the switch will prompt you for confirmation. Press `Enter` to accept.

After removing the startup config from NVRAM, reload the device to remove the current running config file from RAM. On reload, a switch will load the default startup config that originally shipped with the device.

## 2.5.3 Video - Alter the Running Configuration

To save current configuration to the permanent startup configuration:

<img width="359" height="68" alt="image" src="https://github.com/user-attachments/assets/67cfa899-e3f0-4f02-98ae-c5d65435d70e" />

You can type the command shortly:

<img width="359" height="70" alt="image" src="https://github.com/user-attachments/assets/8dcbe06a-40e2-474d-b73c-c5cac6c1eb17" />

To confirm that the current configurations are saved, we can see that we have `nvram` directory which contains the `startup-config` file to store all the configuration:

<img width="543" height="169" alt="image" src="https://github.com/user-attachments/assets/a15a6c05-69c4-497a-b7fa-6dc404fa0b4a" />

To restore the previous startup-config configuration, the switch starts to reload with previous settings:

<img width="280" height="35" alt="image" src="https://github.com/user-attachments/assets/e461a85f-a768-4202-8e5c-04ed22f73012" />

<img width="562" height="262" alt="image" src="https://github.com/user-attachments/assets/066fd0e3-8f7b-40f2-a935-69e8205d975c" />

To erase all the startup configuration:

<img width="595" height="118" alt="image" src="https://github.com/user-attachments/assets/cb78af8c-2e04-44cf-8a67-06c0875ba1bf" />

No we can `reload` and this makes the switch with the default settings so it does not ask for any password:

<img width="292" height="38" alt="image" src="https://github.com/user-attachments/assets/d93b964e-122c-4525-8f79-061fd92d72b3" />

<img width="556" height="265" alt="image" src="https://github.com/user-attachments/assets/a326a529-5ce4-45ae-b04b-ed9ee7760f96" />

If you donot like the current running configuration commands and you want the startup configuration back like you want the switch name to be `MySwitch` which is saved in startup-config:

<img width="471" height="137" alt="image" src="https://github.com/user-attachments/assets/7ecf103d-a18f-40c0-813b-c363d994390d" />

## 2.5.4 Capture Configuration to a Text File










